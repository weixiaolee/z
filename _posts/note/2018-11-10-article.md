---
title: CentOS系统的安装和基础配置
date: 2018-11-10 08:01:48
updated: 2018-11-11 16:31:10
description: 安装最小化版本的CentOS并简单配置
categories: 
- note
tags: 
- Linux
- CentOS
- 系统安装
music-id: 530986051
password: 
---
　　之前一段时间在学习Docker。虽然Windows系统也可以安装，但是在一般的工作生产中，操作系统都是采用的Linux系统。由于我之前在学习工作中使用的是CentOS。Minimal ISO 是最小版的ISO映像。仅提供最少的软件和功能，但附带SSH服务方便远程连接服务器。操作服务器还是命令行最方便，桌面环境应急还好，但不方便还占用资源。如果是学习Linux或在上面进行开发，建议直接安装带桌面环境的版本。下面介绍一下在虚拟机中安装的CentOS的最小版本。实机操作类似。

　　本次选用的软件如下：
<br>CentOS系统映像：CentOS-7-x86_64-Minimal-1804.iso
<br>VMware Workstation Pro：版本15.0
<br>说明：软件版本影响不大，与之接近的版本即可。


## 下载CentOS
　　进入<a href="https://www.centos.org/" target="_blank">CentOS官网</a>，点击 "Get CentOS Now"（现在获得CentOS）。
![CentOS官网](/md_images/2018-11-10-article/1.jpg)

　　再点击 "Minimal ISO"（最小的ISO映像）。下载CentOS的安装映像。
![Minimal ISO](/md_images/2018-11-10-article/2.jpg)

## 创建虚拟机
　　打开VMware Workstation（威睿工作站），点击主页上的“创建新的虚拟机”。
![创建新的虚拟机](/md_images/2018-11-10-article/3.jpg)

　　在弹出的新建虚拟机向导中选择“典型（推荐）(T)”。
![典型（推荐）(T)](/md_images/2018-11-10-article/4.jpg)

　　选择“稍后安装操作系统(S)”
![稍后安装操作系统(S)](/md_images/2018-11-10-article/5.jpg)

　　“客户机操作系统”选择"Linux(L)"，“版本(V)”选择“CentOS 7 64位”。
![客户机操作系统](/md_images/2018-11-10-article/6.jpg)

　　可以在“虚拟机名称(V)”下方给虚拟机起个名字，“位置(L)”的位置可以默认，如果有需要也可以自行选择。
![虚拟机名称](/md_images/2018-11-10-article/7.jpg)

　　在“最大磁盘大小(GB)(S)”后面填写磁盘的大小。建议填写的大一些，虚拟磁盘默认占用的空间一开始是很小的，后面用多少占用多少。不会直接把你填写的空间直接占用完。下面默认选择“将虚拟磁盘存储为单个文件(O)”就可以了，如果有需要可以选择“将虚拟磁盘拆分成多个文件(M)”。
![虚拟磁盘](/md_images/2018-11-10-article/8.jpg)

　　这里先点击“自定义硬件(C)...”，如果已经点击了完成也没关系，后面可以再进行设置。
![自定义硬件](/md_images/2018-11-10-article/9.jpg)

　　在“内存”这里尽量调大一些，内存太小虚拟机会卡顿。
![内存](/md_images/2018-11-10-article/10.jpg)

　　在“新CD/DVD(IDE)”设置中，在右侧选择“使用ISO映像文件(M)”，下方选择前面下载好的CentOS的ISO映像文件。
![ISO映像文件](/md_images/2018-11-10-article/11.jpg)

　　在“网络适配器”设置中，在右侧选择“桥接模式(B)”。选择桥接模式会让虚拟机像一个独立的机器获得IP地址，方便以后进行远程连接登录。NAT模式会共享物理机的网络，但没有自己的IP地址。之后点击“关闭”。
![网络适配器](/md_images/2018-11-10-article/12.jpg)

　　最后点击“新建虚拟机向导”窗口中的“完成”。
![硬件设置完成](/md_images/2018-11-10-article/13.jpg)

　　现在回到 VMware Workstation 的主窗口，点击“开启此虚拟机”，即可运行我们刚才配置好的虚拟机了。如果之前没有设置虚拟机的硬件，可以点击下面的“编辑虚拟机设置”，进行和上面一样的设置。
![开启此虚拟机](/md_images/2018-11-10-article/14.jpg)

## 安装系统
　　启动后会看到一个 CentOS 7 的一个启动菜单。这时可以直接按回车键跳过一分钟的等待进入安装向导，或者按一下上建再按回车键跳过映像检查直接进入安装向导。进入向导前会有操作的提示和刷屏的日志，如果不了解的话，此时请不要做任何操作。
![启动菜单](/md_images/2018-11-10-article/15.jpg)

　　进入了安装向导，先选择想要使用的语言，然后点击“继续”。这里我选择了简体中文。
![使用的语言](/md_images/2018-11-10-article/16.jpg)

　　在“安装信息摘要”页面往下翻，这里需要设置一下“安装位置”和“网络和主机名”。先点击“安装位置”。
![安装设置](/md_images/2018-11-10-article/17.jpg)

　　进入“安装目标位置”页面后，可以直接点击“完成(D)”进行默认设置。或者在下方进行自定义设置。这里我直接点击“完成(D)”。
![安装目标位置](/md_images/2018-11-10-article/18.jpg)

　　在“安装信息摘要”中点击“网络和主机名”。首先把右上方的开关打开，然后可以在左下方的“主机名(H)”后面给计算机命名，或者保持默认。最后点击右下方的“配置(O)...”按钮进行配置。
![主机名设置](/md_images/2018-11-10-article/19.jpg)

　　在弹出的窗口选择“IPv4设置”，下面的“方法(M)”选择“手动”。然后点击下方的"Add"按钮，在按钮左侧的框里根据实际情况填写地址，子网掩码和网关。然后在下面“DNS服务器”后面根据实际情况填写DNS服务器的IP地址。上述配置都正确虚拟机才能连接网络。最后点击“保存(S)”。
![网络设置](/md_images/2018-11-10-article/20.jpg)

　　在“网络和主机名”中确认一下右侧的信息，无误后点击“完成(D)”。
![网络设置完毕](/md_images/2018-11-10-article/21.jpg)

　　在“安装信息摘要”中点击“开始安装(B)”。
![开始安装](/md_images/2018-11-10-article/22.jpg)

　　现在系统已经开始安装了，我们此时需要设置一下ROOT用户的密码。ROOT是Linux系统的管理员账户，有着完全控制系统的权限。所以要设置一个比较复杂的密码。点击“ROOT密码”。
![设置ROOT密码](/md_images/2018-11-10-article/23.jpg)

　　输入两遍密码点击“完成(D)”。
![输入两遍密码](/md_images/2018-11-10-article/24.jpg)

　　如果需要创建用户，可以点击右侧的“创建用户(U)”。现在只需要等待系统安装完毕了。
![等待系统安装](/md_images/2018-11-10-article/25.jpg)

　　系统安装完毕，点击“重启(R)”重启虚拟机。
![重启](/md_images/2018-11-10-article/26.jpg)

## 登录测试
　　进入系统后会看到黑色的控制台界面，此时输入"ROOT"按回车键。
![输入账户](/md_images/2018-11-10-article/27.jpg)

　　再输入前面设置的ROOT用户的密码，按回车键确认。密码输入是隐式的，并不会出现星号或者圆点。
![输入密码](/md_images/2018-11-10-article/28.jpg)

　　出现一行以“#”结尾的提示表明现在已经登录系统了，可以使用命令对系统进行操作。
![登录系统](/md_images/2018-11-10-article/29.jpg)

　　如果要关机输入"shutdown -h now"按回车就会立即关机。
![关机](/md_images/2018-11-10-article/30.jpg)

## 创建快照
　　安装一次系统不容易，虚拟机的好处是可以创建快照，把当前的虚拟机昨天备份下来，以后可以随时还原到这个状态。以后可以放心折腾了。点击这个“快照管理”小按钮。
![“快照管理”小按钮](/md_images/2018-11-10-article/31.jpg)

　　在“快照管理器”中点击“拍摄快照(T)...”。
![快照管理器](/md_images/2018-11-10-article/32.jpg)

　　在“拍摄快照”窗口中输入“名称”和“备注”，然后点击“拍摄快照(T)”。
![拍摄快照](/md_images/2018-11-10-article/33.jpg)

　　这样就创建了一个快照，以后玩坏了可以直接回到这个快照的状态，不用重新安装系统了。
![快照](/md_images/2018-11-10-article/34.jpg)